Таска - 
Задание
Реализовать веб-приложение на C#, которое позволяет работать с иерархическим справочником подразделений. БД – MS SQL/PostgreSQL.
Главная страница приложения – это страница вывода данных иерархического справочника подразделений.
Пример
1.      Компания
1.      Департамент 1
1.                       Отдел 1
2.                       Отдел 2
….
2.      Департамент 2
1.                       Отдел 1
2.                       Отдел 2
…
3.      Департамент 3
…
 
Предусмотреть возможность добавления, удаления и перемещения подразделений.
К названию подразделения в интерфейсе дописывается порядковый номер и он должен генерироваться автоматически.
Предусмотреть одновременную работу со справочником подразделений.
Предусмотреть экспорт и импорт справочника подразделений с помощью xml.
Формат xml выбирается на усмотрение кандидата.

Полностью реализовывать не нужно, только спроектировать классы, в комментариях написать, что будет сделано.
======================================================================================================
UI не писал ,реализовал только бек
1.стек :
бек - .NET 8, ASP.NET Core, Entity Framework Core, MediatR, FluentValidation, автомаппер
бд - PostgreSQL
Архитектура -	Clean Architecture + CQRS + DDD

для cqrs обработчика написал Result<t> и Result - для валидаций,для разделения операций и тд
--------------------------------------
Сервисы:

DepartmentFactory - Фабрика для создания подразделений с автоматической нумерацией.

Что делает? 
1.Генерирует порядковый номер (OrderNumber) через IOrderNumberGenerator:
2.Создает объект Department:Инкапсулирует логику инициализации сущности.
----------------------------------------
DepartmentService - Сервис для выполнения бизнес-операций с подразделениями.

Что делает?

Проверяет наличие активных сотрудников через HasActiveEmployeesAsync.
Если сотрудники есть → бросает исключение DepartmentHasActiveEmployeesException.
Если нет → меняет статус на Inactive.

----------------------------------------
DepartmentXmlService -  Сервис для экспорта и импорта иерархии подразделений в XML. (контроллер реализовал)

Что делает?

Сериализует список Department в XML.
Удаляет стандартные namespace (xmlns:xsi, xmlns:xsd) для чистого формата.
Возвращает строку в кодировке UTF-8.


=========================

Реопзиторий 

методы 
 1.CRUD-операции:
AddAsync/AddRangeAsync – добавление подразделения(й)
UpdateAsync – обновление данных
DeleteAsync – удаление
GetByIdAsync/GetAllAsync – получение данных

2.Иерархические запросы:
GetChildrenAsync – список дочерних подразделений
GetRootDepartmentsAsync – корневые подразделения (без родителей)
GetByIdWithParentAsync – подразделение с данными о родителе

3.Проверки:
ExistsAsync – существует ли подразделение
HasActiveEmployeesAsync – есть ли активные сотрудники в подразделении

4.Сохранение изменений:
SaveChangesAsync – явное применение изменений в БД

